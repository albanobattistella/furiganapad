# ふりがなパッド (ベータ￹版￺ばん￻)
　「ふりがなパッド」は、￹総￺そう￻ふりがなをうった￹文章￺ぶんしょう￻をかんたんにつくれるテキストエディターです。「[ひらがなIME](https://github.com/esrille/ibus-hiragana)」といっしょにつかうと、￹漢字￺かんじ￻に￹自動的￺じどうてき￻にふりがなをふっていきます。

## つかいかた
　プログラムのファイル名は"furiganapad"です。
　GUIで起動するときは、アプリケーションの一覧から[ふりがなパッド]を選択してください。
　コマンド ラインから￹起動￺きどう￻するときは、つぎのようにタイプします。
```
$ furiganapad [ファイル名...]
```
　ファイル￹名￺めい￻の￹部分￺ぶぶん￻には、ひらきたいファイルのなまえをタイプします。あたらしいファイルをつくるときは、ファイル￹名￺めい￻は￹指定￺してい￻しなくてもかまいません。

## スクリーン ショット
![「ふりがなパッド」のスクリーンショット](screenshot.png)

## ふりがなパッドのインストール￹方法￺ほうほう￻
　つかっているOSがFedora, Ubuntu, Raspberry Pi OSのどれかなら、インストール￹用￺よう￻のソフトウェア パッケージを、[Releases](https://github.com/esrille/furiganapad/releases)ページからダウンロードできます。

　「ふりがなパッド」をじぶんでビルドしてインストールしたいときは、つぎの￹手順￺てじゅん￻でインストールできます。
```
$ git clone https://github.com/esrille/furiganapad.git
$ ./autogen.sh
$ make
$ sudo make install
```
　じぶんでビルドした「ふりがなパッド」をアンインストールするときは、つぎのようにします:
```
$ sudo make uninstall
```
　じぶんでソースコードを￹改造￺かいぞう￻して￹実験￺じっけん￻したいときもあるかもしれません。そういうときは、「ふりがなパッド」をインストールしないで、ソースコードをちょくせつ￹実行￺じっこう￻することもできます。
```
$ src/furiganapad
```

## ふりがなについて
　こども￹用￺よう￻の￹本￺ほん￻には、すべての￹漢字￺かんじ￻にふりがながふってある￹本￺ほん￻もすくなくありません。そうしたふりがなのつけかたを「￹総￺そう￻ふりがな」とか「￹総￺そう￻ルビ」といいます。

　さいきんでは、「やさしい￹日本語￺にほんご￻」でかいた￹文章￺ぶんしょう￻をみたり、かいたりする￹機会￺きかい￻がふえてきました。「やさしい￹日本語￺にほんご￻」の￹文章￺ぶんしょう￻も￹漢字￺かんじ￻にふりがながふってあります。

　いまではウェブブラウザも、ふりがなを￹表示￺ひょうじ￻できるようになっています。「ふりがなパッド」は、￹総￺そう￻ルビの￹文章￺ぶんしょう￻をかんたんに￹作成￺さくせい￻したり￹編集￺へんしゅう￻したりできるようにかんがえてあります。

## とくべつな￹機能￺きのう￻
　「ふりがなパッド」には、テキストエディターの￹基本的￺きほんてき￻な￹機能￺きのう￻のほかに、つぎのような￹機能￺きのう￻があります。

### ￹編集￺へんしゅう￻メニュー

#### ふりがなをふる...
　えらんだ￹字句￺じく￻に、べつのふりがなをふったり、ふりがなをとりけしたりできます。ふりがなをふりたい￹字句￺じく￻を￹選択￺せんたく￻してから、「ふりがなをふる...」を￹実行￺じっこう￻します。ふりがな￹用￺よう￻のテキストボックスにふりがなを￹入力￺にゅうりょく￻したら、[Enter]キーをおしてふりがなをふります。

#### ひらがなにもどす...
　ふりがなのふられた￹漢字￺かんじ￻をひらがなにもどします。ふりがなのふられている￹漢字￺かんじ￻のおわりにカーソルを￹移動￺いどう￻してから、「ひらがなにもどす...」を￹実行￺じっこう￻します。

### ￹設定￺せってい￻メニュー

#### ふりがな
　メニューの「ふりがな」にチェックをつけておくと、￹入力￺にゅうりょく￻された￹漢字￺かんじ￻に￹自動的￺じどうてき￻にふりがなをふっていきます。チェックがついていないと、ふりがなをつけずに￹漢字￺かんじ￻を￹入力￺にゅうりょく￻できます。

#### ながい￹文￺ぶん￻をめだたせる
　メニューの「ながい￹文￺ぶん￻をめだたせる」にチェックをつけておくと、ながい￹文￺ぶん￻を￹色￺いろ￻づけして￹表示￺ひょうじ￻します。一￹文￺ぶん￻のながさが５０￹字￺じ￻をこえると、￹文￺ぶん￻の￹背景￺はいけい￻が￹黄￺き￻￹色￺いろ￻になります。さらに、６０￹字￺じ￻をこえると、￹文￺ぶん￻の￹背景￺はいけい￻が￹赤色￺ あかいろ￻になります。

※　ながい￹文￺ぶん￻はみじかくきって、かきなおすと、よみやすくなります。

## ファイル￹形式￺けいしき￻と￹応用￺おうよう￻のしかた
　「ふりがなパッド」は、UTF-8でエンコードされたテキストファイルのよみかきができます。

　ふりがなは、ユニコードのルビ￹用￺よう￻のコードポイントU+FFF9からU+FFFBをつかって￹保存￺ほぞん￻しています。ただし、このコードポイントに￹対応￺たいおう￻しているソフトウェアはあまりおおくありません。

　それでも、ユニコードのルビをHTMLのrubyタグに￹変換￺へんかん￻したりするのはかんたんです。つぎの￹例￺れい￻では、「ふりがなパッド」でかいたREADME.txtを、スクリプトをつかって、README.mdに￹変換￺へんかん￻しています。
```
$ tools/convert_to_tag.py README.txt README.md
```
convert_to_tag.pyスクリプトもこのレポジトリのなかにおいてあります。

## ふりがなパッドのプログラム
　「ふりがなパッド」は、￹Python￺パイソン￻でかいたGTKのプログラムです。￹標準￺ひょうじゅん￻の[Gtk.TextView](https://lazka.github.io/pgi-docs/index.html#Gtk-3.0/classes/TextView.html)のかわりに、ふりがなに￹対応￺たいおう￻したTextViewを[Gtk.DrawingArea](https://lazka.github.io/pgi-docs/index.html#Gtk-3.0/classes/DrawingArea.html)をつかってつくっています。￹文字￺もじ￻の￹描画￺びょうが￻には、[Pango](https://lazka.github.io/pgi-docs/index.html#Pango-1.0)をつかっています。ぜんたいでは2,400￹行￺ぎょう￻ほどのプログラムです(2020￹年￺ねん￻6￹月￺がつ￻￹現在￺げんざい￻)。
