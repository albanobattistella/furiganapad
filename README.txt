# ふりがなパッド (ベータ￹版￺ばん￻)
　「ふりがなパッド」は、￹総￺そう￻ふりがなをうった￹文章￺ぶんしょう￻をかんたんにつくれるテキストエディターです。[￹漢字￺かんじ￻￹置換￺ちかん￻インプットメソッド](https://github.com/esrille/ibus-replace-with-kanji)といっしょにつかうと、￹漢字￺かんじ￻に￹自動的￺じどうてき￻にふりがなをふっていきます。

## つかいかた
```
$ furiganapad [filename...]
```
## スクリーン ショット
![「ふりがなパッド」のスクリーンショット](screenshot.png)

## ふりがなパッドのインストール￹方法￺ほうほう￻
　つかっているOSがFedora, Ubuntu, Raspbianのどれかなら、インストール￹用￺よう￻のソフトウェア パッケージを、[Releases](https://github.com/esrille/furiganapad/releases)ページからダウンロードできます。

　「ふりがなパッド」をじぶんでビルドしてインストールしたいときは、MesonとNinjaをつかいます。
```
$ sudo apt install meson  # MesonとNinjaをインストールします
$ git clone https://github.com/esrille/furiganapad.git
$ meson . _build  # さいしょの一回目だけ
$ ninja -C _build
$ sudo ninja -C _build install
```
　じぶんでビルドした「ふりがなパッド」をアンインストールするときは、つぎのようにします:
```
$ sudo ninja -C _build uninstall
```
　じぶんでソースコードを￹改造￺かいぞう￻して、￹実験￺じっけん￻したいときもあるかもしれません。
そんなときは、「ふりがなパッド」をインストールしないで、ソースコードをちょくせつ￹実行￺じっこう￻することもできます。
```
$ ./furiganapad.py
```
### ふりがなパッドのつかえる￹環境￺かんきょう￻
　「ふりがなパッド」は、いまのところ、Fedora 30、Ubuntu 18.04、それからRaspbian Stretchで￹動作￺どうさ￻を￹確認￺かくにん￻をしています。

## ふりがなについて
　こども￹用￺よう￻の￹本￺ほん￻には、すべての￹漢字￺かんじ￻にふりがながふってある￹本￺ほん￻もすくなくありません。そうしたふりがなのつけかたを「￹総￺そう￻ふりがな」とか「￹総￺そう￻ルビ」といいます。

　さいきんでは、「やさしい￹日本語￺にほんご￻」でかいた￹文章￺ぶんしょう￻をみたり、かいたりする￹機会￺きかい￻がふえてきました。「やさしい￹日本語￺にほんご￻」の￹文章￺ぶんしょう￻も￹漢字￺かんじ￻にふりがながふってあります。

　いまではウェブブラウザも、ふりがなを￹表示￺ひょうじ￻できるようになっています。「ふりがなパッド」は、￹総￺そう￻ルビの￹文章￺ぶんしょう￻をかんたんに￹作成￺さくせい￻したり￹編集￺へんしゅう￻したりできるようにかんがえてあります。

## とくべつな￹機能￺きのう￻
　「ふりがなパッド」には、テキストエディターの￹基本的￺きほんてき￻な￹機能￺きのう￻のほかに、つぎのような￹機能￺きのう￻があります。

### ￹編集￺へんしゅう￻メニュー

#### ふりがなをふる...
　えらんだ￹字句￺じく￻に、べつのふりがなをふったり、ふりがなをとりけしたりできます。ふりがなをふりたい￹字句￺じく￻を￹選択￺せんたく￻してから、「ふりがなをふる...」を￹実行￺じっこう￻します。ふりがな￹用￺よう￻のテキストボックスにふりがなを￹入力￺にゅうりょく￻したら、[Enter]キーをおしてふりがなをふります。

#### ひらがなにもどす...
　ふりがなのふられた￹漢字￺かんじ￻をひらがなにもどします。ふりがなのふられている￹漢字￺かんじ￻のおわりにカーソルを￹移動￺いどう￻してから、「ひらがなにもどす...」を￹実行￺じっこう￻します。

### ￹設定￺せってい￻メニュー

#### ふりがな
　メニューの「ふりがな」にチェックをつけておくと、￹入力￺にゅうりょく￻された￹漢字￺かんじ￻に￹自動的￺じどうてき￻にふりがなをふっていきます。チェックがついていないと、ふりがなをつけずに￹漢字￺かんじ￻を￹入力￺にゅうりょく￻できます。

#### ながい￹文￺ぶん￻をめだたせる
　メニューの「ながい￹文￺ぶん￻をめだたせる」にチェックをつけておくと、ながい￹文￺ぶん￻を￹色￺いろ￻づけして￹表示￺ひょうじ￻します。一￹文￺ぶん￻のながさが５０￹字￺じ￻をこえると、￹文￺ぶん￻の￹背景￺はいけい￻が￹黄￺き￻￹色￺いろ￻になります。さらに、６０￹字￺じ￻をこえると、￹文￺ぶん￻の￹背景￺はいけい￻が￹赤色￺ あかいろ￻になります。

※　ながい￹文￺ぶん￻はみじかくきって、かきなおすと、よみやすくなります。

## ファイル￹形式￺けいしき￻と￹応用￺おうよう￻のしかた
　「ふりがなパッド」は、UTF-8でエンコードされたテキストファイルのよみかきができます。

　ふりがなは、ユニコードのルビ￹用￺よう￻のコードポイントU+FFF9からU+FFFBをつかって￹保存￺ほぞん￻しています。ただし、このコードポイントに￹対応￺たいおう￻しているソフトウェアはあまりおおくありません。

　そのかわり、ユニコードのルビをHTMLのrubyタグに￹変換￺へんかん￻したりするのはかんたんです。つぎの￹例￺れい￻では、「ふりがなパッド」でかいたREADME.txtを、スクリプトをつかって、README.mdに￹変換￺へんかん￻しています。
```
$ ./convert_to_tag.py README.txt README.md
```
convert_to_tag.pyスクリプトもこのレポジトリのなかにおいてあります。

## ふりがなパッドのプログラム
　「ふりがなパッド」は、￹Python￺パイソン￻でかいたGTKのプログラムです。￹標準￺ひょうじゅん￻のGtk.TextViewのかわりに、ふりがなに￹対応￺たいおう￻したTextViewをGtk.DrawingAreaをつかってつくっています。￹文字￺もじ￻の￹描画￺びょうが￻には、Pangoをつかっています。ぜんたいでは2,000￹行￺ぎょう￻あまりのプログラムです。
